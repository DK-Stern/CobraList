task npmInstallWebApp(type: Exec) {
    group = BasePlugin.BUILD_GROUP
    if (System.getProperty("os.name").toUpperCase().contains("WINDOWS")) {
        commandLine "npm.cmd", "install"
    } else {
        commandLine "npm", "install"
    }
}

task buildWebApp(type: Exec) {
    dependsOn "npmInstallWebApp"
    group = BasePlugin.BUILD_GROUP
    if (System.getProperty("os.name").toUpperCase().contains("WINDOWS")){
        commandLine "npm.cmd", "run", "build", "--", "--prod"
    } else {
        commandLine "npm", "run", "build", "--", "--prod"
    }
}

task runWebApp(type: Exec) {
    dependsOn "npmInstallWebApp"
    group = BasePlugin.BUILD_GROUP
    if (System.getProperty("os.name").toUpperCase().contains("WINDOWS")) {
        commandLine "npm.cmd", "run", "serve", "--", "--aot"
    } else {
        commandLine "npm", "run", "serve", "--", "--aot"
    }
}
